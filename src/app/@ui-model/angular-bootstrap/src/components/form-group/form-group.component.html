<div *ngIf="form && group" [formGroup]="group" class="row">
  <div *ngFor="let field of form.properties" [uiFieldMetadata]="field" [ngClass]="cssOf(field)">
    <ui-form-control *ngIf="field.isControl" [group]="group" [field]="field"></ui-form-control>
    <ui-form-array *ngIf="field.isArray" [group]="group" [field]="field"></ui-form-array>
    <fieldset *ngIf="field.isGroup">
      <legend>{{field.label}}</legend>
      <ui-form-group [group]="group.get(field.name)"></ui-form-group>
    </fieldset>
    <ui-field-error [fieldName]="field.name" [messages]="field.errors"></ui-field-error>
  </div>
</div>
